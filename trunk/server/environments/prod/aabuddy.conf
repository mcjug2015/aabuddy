<VirtualHost 108.179.217.243:80>
    ServerName      mcasg.org

    # disable listing and "guessing" of static files
    <Directory /var/www/>
            Options -Indexes FollowSymLinks -MultiViews
            AllowOverride None
            Order deny,allow
            Allow from all
    </Directory>
        
    # project media
    Alias /media /var/www/aabuddy/releases/current/media
    <Location "/media">
            SetHandler None
    </Location>
    Alias /static /var/www/aabuddy/releases/current/static
    <Location "/static">
            SetHandler None
    </Location>    

    WSGIDaemonProcess aabuddy user=aabuddy group=aabuddy threads=10 maximum-requests=2000 python-path=/var/www/aabuddy/local-python/lib/python2.7/site-packages/
    WSGIProcessGroup aabuddy
    WSGIScriptAlias / /var/www/aabuddy/releases/current/aabuddy/environments/aabuddy.wsgi
    WSGIPassAuthorization On

    ErrorLog /var/www/aabuddy/logs/error.log
    LogLevel warn
    CustomLog /var/www/aabuddy/logs/access.log combined
</VirtualHost>

<VirtualHost 108.179.217.243:443>
    ServerName      mcasg.org

    # disable listing and "guessing" of static files
    <Directory /var/www/>
            Options -Indexes FollowSymLinks -MultiViews
            AllowOverride None
            Order deny,allow
            Allow from all
    </Directory>
        
    # project media
    Alias /media /var/www/aabuddy/releases/current/media
    <Location "/media">
            SetHandler None
    </Location>
    Alias /static /var/www/aabuddy/releases/current/static
    <Location "/static">
            SetHandler None
    </Location>    

    WSGIDaemonProcess aabuddy2 user=aabuddy group=aabuddy threads=10 maximum-requests=2000 python-path=/var/www/aabuddy/local-python/lib/python2.7/site-packages/
    WSGIProcessGroup aabuddy2
    WSGIScriptAlias / /var/www/aabuddy/releases/current/aabuddy/environments/aabuddy.wsgi
    WSGIPassAuthorization On

    ErrorLog /var/www/aabuddy/logs/error.log
    LogLevel warn
    CustomLog /var/www/aabuddy/logs/access.log combined

    SSLEngine on
    SSLCertificateFile    /etc/ssl/certs/mcasg.org.crt
    SSLCertificateKeyFile /etc/ssl/private/mcasg.org.key

    BrowserMatch "MSIE [2-6]" \
            nokeepalive ssl-unclean-shutdown \
            downgrade-1.0 force-response-1.0
    BrowserMatch "MSIE [17-9]" ssl-unclean-shutdown
</VirtualHost>
